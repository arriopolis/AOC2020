print([list([g.update({(i,j) : '#'if o=='L'and s==0 else'L'if o=='#'and s>=4 else o for i,j in g for s,o in [(sum(1for k,l in [(-1,-1),(-1,0),(-1,1),(0,-1),(0,1),(1,-1),(1,0),(1,1)]if 0<=i+k<=h and 0<=j+l<=w and g[(i+k,j+l)]=='#'),g[(i,j)])]}),g][-1].values()).count('#')for g in [{(i,j) : c for i,l in enumerate(open('input.txt')) for j,c in enumerate(l[:-1])}]*200 for h,w in [max(g)]][-1])
